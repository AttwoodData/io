{% extends "base.html" %}

{% block title %}RAG Agent Factory - Ask a Question{% endblock %}

{% block content %}
<div class="qa-interface">
    <div class="question-section">
        <h2>Ask Ollama a Question</h2>
        <p class="instructions">
            Enter your question below and get an answer from our local Ollama model.
            This is Phase 1: Simple question â†’ single answer (no conversation memory).
        </p>
        
        <form id="question-form" class="question-form">
            <div class="form-group">
                <label for="question" class="form-label">Your Question:</label>
                <textarea 
                    id="question" 
                    name="question" 
                    class="question-input" 
                    placeholder="What would you like to know?"
                    rows="4"
                    maxlength="1000"
                    required
                ></textarea>
                <div class="character-count">
                    <span id="char-count">0</span> / 1000 characters
                </div>
            </div>
            
            <button type="submit" id="submit-btn" class="submit-button">
                <span class="button-text">Ask Question</span>
                <span class="loading-spinner" style="display: none;">Processing...</span>
            </button>
        </form>
    </div>
    
    <div class="response-section" id="response-section" style="display: none;">
        <h3>Response:</h3>
        <div class="response-container">
            <div class="response-meta">
                <span class="timestamp" id="response-timestamp"></span>
                <span class="model-info">Model: Ollama (llama3.2:3b)</span>
            </div>
            <div class="response-content" id="response-content"></div>
        </div>
        
        <button type="button" id="ask-another" class="secondary-button">
            Ask Another Question
        </button>
    </div>
    
    <div class="error-section" id="error-section" style="display: none;">
        <h3>Error:</h3>
        <div class="error-container">
            <p class="error-message" id="error-message"></p>
            <button type="button" id="try-again" class="secondary-button">
                Try Again
            </button>
        </div>
    </div>
</div>

<!-- Status indicator -->
<div class="status-indicator" id="status-indicator">
    <div class="status-dot"></div>
    <span class="status-text">Checking Ollama connection...</span>
</div>
{% endblock %}
